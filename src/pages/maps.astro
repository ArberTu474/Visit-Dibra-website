---
// Layout
import Layout from '../layouts/Layout.astro'

// Components
import MapsCard from '../components/ui/maps&guides/MapsCard.astro'
import GuidesCard from '../components/ui/maps&guides/GuidesCard.astro'
import TitleWithIcon from '../components/ui/general/TitleWithIcon.astro'

// Data
import allMaps from '../data/maps_guides/maps.json'
import allGuides from '../data/maps_guides/guides.json'
---

<Layout title='VisitDibra | Maps'>
  <main>
    <div class='page-container'>
      <div
        class='bg-amber-300 rounded-lg p-6 flex flex-col sm:flex-row items-center justify-between gap-3 sm:gap-6 shadow-lg shadow-gray-400/20 sticky mt-3'
      >
        <div class='text-center sm:text-left'>
          <h2 class='w-full text-2xl text-amber-950/80 font-bold'>
            Visit Diber Travel Guide
          </h2>
          <p id='description' class='text-sm max-w-xl text-amber-950/50'>
            The official tourist guide of Diber in English. This brochure was
            prepared by the Albanian Local Capacity Development Foundation in a
            collaboration between USAID and the Embassy of Sweden.
          </p>
        </div>
        <div class='flex flex-col md:flex-row items-center gap-8'>
          <select
            class='hidden lg:block w-80 bg-amber-400/60 border-2 border-amber-400/10 text-amber-900 text-lg rounded-xl p-3 cursor-pointer'
            name='language'
            id='language'
            onchange='updateDescription()'
          >
            <option selected>Choose language</option>
            <option value='english'>ðŸ‡¬ðŸ‡§ English</option>
            <option value='albanian'>ðŸ‡¦ðŸ‡± Albanian (Coming Soon)</option>
            <option value='italian'>ðŸ‡®ðŸ‡¹ Italian (Coming Soon)</option>
            <option value='german'>ðŸ‡©ðŸ‡ª German (Coming Soon)</option>
            <option value='spanish'>ðŸ‡ªðŸ‡¸ Spanish (Coming Soon)</option>
            <option value='czech'>ðŸ‡¨ðŸ‡¿ Czech (Coming Soon)</option>
            <option value='macedonian'>ðŸ‡²ðŸ‡° Macedonian (Coming Soon)</option>
            <option value='montenegrin'>ðŸ‡²ðŸ‡ª Montenegrin (Coming Soon)</option>
            <option value='polish'>ðŸ‡µðŸ‡± Polish (Coming Soon)</option>
          </select>
          <!-- Desktop download button -->
          <a
            id='download'
            href='/maps/guides/visit_diber_english.pdf'
            target='_blank'
            class='hidden lg:block py-3 px-10 text-lg bg-amber-500/70 rounded-lg font-bold text-amber-950/80 hover:opacity-90 transition-opacity duration-300'
            >Download</a
          >
        </div>
        <!-- Mobile download button -->
        <div
          class='lg:hidden flex items-center px-5 text-lg bg-amber-500/70 rounded-lg font-bold text-amber-950/80 hover:opacity-90 transition-opacity duration-300'
        >
          <a
            id='download_mobile'
            href='/maps/guides/visit_diber_english.pdf'
            target='_blank'
            class='py-3 inline-block'>Download</a
          >
          <!-- Divider -->
          <div class='min-w-[1px] h-9 bg-amber-800/40 mx-3'></div>
          <div class='relative'>
            <select
              class='block bg-transparent text-transparent w-12 pl-4 pb-3 py-3 cursor-pointer'
              name='language'
              id='language_mobile'
            >
              <option selected>Choose language</option>
              <option value='english'>ðŸ‡¬ðŸ‡§ English</option>
              <option value='albanian'>ðŸ‡¦ðŸ‡± Albanian (Coming Soon)</option>
              <option value='italian'>ðŸ‡®ðŸ‡¹ Italian (Coming Soon)</option>
              <option value='german'>ðŸ‡©ðŸ‡ª German (Coming Soon)</option>
              <option value='spanish'>ðŸ‡ªðŸ‡¸ Spanish (Coming Soon)</option>
              <option value='czech'>ðŸ‡¨ðŸ‡¿ Czech (Coming Soon)</option>
              <option value='macedonian'>ðŸ‡²ðŸ‡° Macedonian (Coming Soon)</option>
              <option value='montenegrin'>ðŸ‡²ðŸ‡ª Montenegrin (Coming Soon)</option>
              <option value='polish'>ðŸ‡µðŸ‡± Polish (Coming Soon)</option>
            </select>
            <img
              class='absolute top-2 left-1 pointer-events-none mx-auto'
              src='/icons/down_arrow_brown.svg'
              alt=''
              height='40px'
              width='40px'
            />
          </div>
        </div>
      </div>
      <h1 class='text-4xl font-bold mt-6'>Maps & Guides</h1>
      <p class='text-base text-gray-500 my-6 max-w-3xl'>
        Downloadable maps and tourist guides are available for each of your
        adventures in Diber. Official guides are available in English, Italian,
        German, Spanish, Macedonian, Montenegrin, Czech and Polish languages,
        providing comprehensive information to plan and enjoy your experience in
        Diber.
      </p>

      <div class='flex flex-col gap-12'>
        <!-- Maps Section -->
        <div>
          <div class='flex justify-center gap-2 flex-col my-6'>
            <TitleWithIcon title='Maps' icon_src='/icons/maps_icon.svg' />
            <div class='grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6'>
              {
                allMaps.maps.map((map) => (
                  <MapsCard
                    title={map.title}
                    description={map.description}
                    img_src={map.img_src}
                    img_alt={map.img_alt}
                    distance={map.distance}
                    height={map.height}
                    time={map.time}
                    file_src={map.file_src}
                    difficulty={map.difficulty}
                    activity={map.activity}
                  />
                ))
              }
            </div>
          </div>

          <!-- Guides  -->
          <div class='mt-12'>
            <TitleWithIcon title='Guides' icon_src='/icons/guides_icon.svg' />
            <div class='grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6'>
              {
                allGuides.guides.map((guide) => (
                  <GuidesCard
                    title={guide.title}
                    description={guide.description}
                    img_src={guide.img_src}
                    img_alt={guide.img_alt}
                    file_src={guide.file_src}
                  />
                ))
              }
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
</Layout>

<script type='text/javascript'>
// Descriptions
const english =
  'The official tourist guide of Diber in English. This brochure was prepared by the Albanian Local Capacity Development Foundation in a collaboration between USAID and the Embassy of Sweden.'
const albanian =
  'Guida zyrtare turistike e DibrÃ«s nÃ« shqip. Kjo broshurÃ« Ã«shtÃ« pÃ«rgatitur nga Nevila Manga dhe stafi i QendrÃ«s sÃ« Turizmit DibÃ«r.'
const italian =
  'La guida turistica ufficiale di Diber in italiano. Questa brochure Ã¨ stata preparata da Ilaria Ghaleb.'
const german =
  'Der offizielle ReisefÃ¼hrer von Diber auf Deutsch. Diese BroschÃ¼re wurde von Ilaria Ghaleb mit sprachlicher UnterstÃ¼tzung von Louis Fischer und Enela Marku erstellt.'
const spanish =
  'La guÃ­a de viaje oficial de Diber en espaÃ±ol. Este folleto fue creado por Ilaria Ghaleb con el apoyo lingÃ¼Ã­stico de Lourdes GutiÃ©rrez Toranzo.'
const czech =
  'OficiÃ¡lnÃ­ cestovnÃ­ prÅ¯vodce Diber v ÄeÅ¡tinÄ›. Tuto broÅ¾uru vytvoÅ™ila Ilaria Ghaleb s jazykovou podporou Pavliny Ohman.'
const macedonian =
  'ÐžÑ„Ð¸Ñ†Ð¸Ñ˜Ð°Ð»ÐµÐ½ Ñ‚ÑƒÑ€Ð¸ÑÑ‚Ð¸Ñ‡ÐºÐ¸ Ð²Ð¾Ð´Ð¸Ñ‡ Ð½Ð° Ð”Ð¸Ð±ÐµÑ€ Ð½Ð° Ð¼Ð°ÐºÐµÐ´Ð¾Ð½ÑÐºÐ¸ Ñ˜Ð°Ð·Ð¸Ðº. ÐžÐ²Ð°Ð° Ð±Ñ€Ð¾ÑˆÑƒÑ€Ð° Ðµ ÑÐ¾Ð·Ð´Ð°Ð´ÐµÐ½Ð° Ð¾Ð´ Ð˜Ð»Ð°Ñ€Ð¸Ñ˜Ð° Ð“Ð°Ð»ÐµÐ± ÑÐ¾ Ð»Ð¸Ð½Ð³Ð²Ð¸ÑÑ‚Ð¸Ñ‡ÐºÐ° Ð¿Ð¾Ð´Ð´Ñ€ÑˆÐºÐ° Ð¾Ð´ ÐœÐ¾Ð½Ð¸ÐºÐ° Ð¡Ð°Ð·Ð´Ð¾Ð²Ð°.'
const montenegrin =
  'Ð—Ð²Ð°Ð½Ð¸Ñ‡Ð½Ð¸ Ñ‚ÑƒÑ€Ð¸ÑÑ‚Ð¸Ñ‡ÐºÐ¸ Ð²Ð¾Ð´Ð¸Ñ‡ Ð”Ð¸Ð±ÐµÑ€Ð° Ð½Ð° Ñ†Ñ€Ð½Ð¾Ð³Ð¾Ñ€ÑÐºÐ¾Ð¼ Ñ˜ÐµÐ·Ð¸ÐºÑƒ. ÐžÐ²Ñƒ Ð±Ñ€Ð¾ÑˆÑƒÑ€Ñƒ Ñ˜Ðµ Ð¿Ñ€Ð¸Ð¿Ñ€ÐµÐ¼Ð¸Ð»Ð° Ð˜Ð»Ð°Ñ€Ð¸Ð° Ð“Ñ…Ð°Ð»ÐµÐ± ÑƒÐ· Ð»Ð¸Ð½Ð³Ð²Ð¸ÑÑ‚Ð¸Ñ‡ÐºÑƒ Ð¿Ð¾Ð´Ñ€ÑˆÐºÑƒ ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€Ðµ Ð“Ð¸ÐºÐ°Ð»Ð°.'
const polish =
  'Oficjalny przewodnik turystyczny Dibra w jÄ™zyku albaÅ„skim. Niniejsza broszura zostaÅ‚a przygotowana przez IlariÄ™ Ghaleb przy wsparciu jÄ™zykowym Marii Topolskiej.'

const description = document.querySelector('#description')

const language = document.querySelector('#language')
const download = document.querySelector('#download')

const language_mobile = document.querySelector('#language_mobile')
const download_mobile = document.querySelector('#download_mobile')

// Event Listeners

language.addEventListener('chnage', (e) => {
  updateDescription()
})

download.addEventListener('click', (e) => {
  getOption()
})

language_mobile.addEventListener('chnage', (e) => {
  updateDescriptionMobile()
})

download_mobile.addEventListener('click', (e) => {
  getOptionMobile()
})

function getOption() {
  value = language.value.toLowerCase()
  if (value === 'choose language') {
    value = 'english'
  }
  let link = `/maps/guides/visit_diber_${value}.pdf`
  download.setAttribute('href', link)
}

function getOptionMobile() {
  value = language_mobile.value.toLowerCase()
  if (value === 'choose language') {
    value = 'english'
  }
  let link = `/maps/guides/visit_diber_${value}.pdf`
  download_mobile.setAttribute('href', link)
}

function updateDescription() {
  var language = document.getElementById('language').value

  switch (language) {
    case 'english':
      description.innerText = english
      break
    case 'albanian':
      description.innerText = albanian
      break
    case 'italian':
      description.innerText = italian
      break
    case 'german':
      description.innerText = german
      break
    case 'spanish':
      description.innerText = spanish
      break
    case 'czech':
      description.innerText = czech
      break
    case 'macedonian':
      description.innerText = macedonian
      break
    case 'montenegrin':
      description.innerText = montenegrin
      break
    case 'polish':
      description.innerText = polish
      break
    case 'choose language':
      description.innerText = 'test'
      break

    default:
      description.innerText = english
      break
  }
}

function updateDescriptionMobile() {
  var language_mobile = document.getElementById('language_mobile').value

  switch (language_mobile) {
    case 'english':
      description.innerText = english
      break
    case 'albanian':
      description.innerText = albanian
      break
    case 'italian':
      description.innerText = italian
      break
    case 'german':
      description.innerText = german
      break
    case 'spanish':
      description.innerText = spanish
      break
    case 'czech':
      description.innerText = czech
      break
    case 'macedonian':
      description.innerText = macedonian
      break
    case 'montenegrin':
      description.innerText = montenegrin
      break
    case 'polish':
      description.innerText = polish
      break

    default:
      description.innerText = english
      break
  }
}
</script>
