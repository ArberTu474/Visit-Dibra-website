---
// Componets
import { Image } from '@astrojs/image/components'
import SectionContent from '../SectionContent.astro'
import Card from '../Card.astro'
import Button from '../Button.astro'
import BookingContactInfo from '../BookingContactInfo.astro'
import BusinessesContactInfo from '../BusinessesContactInfo.astro'

// Data
const bookingInfo = await Astro.glob('../../data/booking/*.md')
---

<div class='relative'>
  <div class='page-container'>
    <div id='booking'></div>
    <SectionContent
      title='Book your visit to Diber'
      subtitle='Booking'
      icon_src='/icons/booking_icon.svg'
      section_color='dark-blue'
      text_position='center'
    >
      Choose from several options below to book your stay in Diber!
    </SectionContent>
    <div class='grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-12'>
      <!-- Tourism Information Center  -->
      <Card className='flex flex-col justify-between min-h-[500px]'>
        <div class='text-center'>
          <img
            height='80px'
            width='80px"'
            class='mx-auto'
            src='/icons/booking/info.svg'
            alt='info icon'
          />
          <h2 class='text-2xl font-bold mt-3 mb-6'>
            Tourist Information Center
          </h2>
          <p class='text-base text-gray-500'>
            Contact the Diber Tourist Information Center in Peshkopi directly
            with any questions related to travel or staying in Diber.
          </p>
        </div>

        <!-- Contact info -->
        <div class='py-6'>
          {
            bookingInfo.map((info) =>
              info.frontmatter.contact.map((contact) => (
                <BookingContactInfo
                  type={contact.type}
                  contact={contact.contactInfo}
                  href={contact.url}
                />
              ))
            )
          }
        </div>

        <Button className='w-full' href='/' rounded={true} btnColor='dark-blue'>
          More Info
        </Button>
      </Card>

      <!-- Booking.com -->
      <Card className='flex flex-col justify-between min-h-[500px]'>
        <div class='text-center'>
          <img
            height='80px'
            width='80px"'
            class='mx-auto'
            src='/icons/booking/booking_logo.svg'
            alt='booking.com icon'
          />
          <h2 class='text-2xl font-bold mt-3 mb-6'>Booking.com</h2>
          <p class='text-base text-gray-500'>
            Book a stay in Diber directly on Booking.com below.
          </p>
        </div>

        <Button
          className='w-full'
          href='https://booking.com'
          rounded={true}
          btnColor='dark-blue'
          externalLink={true}
        >
          More Info
          <img
            width='32px'
            height='32px'
            class='h-6'
            src='/icons/external_link.svg'
            alt='icon'
          />
        </Button>
      </Card>

      <!-- Contact the Owner Directly -->
      <Card className='flex flex-col justify-between min-h-[500px]'>
        <div class='text-center'>
          <img
            height='80px'
            width='138px"'
            class='mx-auto'
            src='/icons/booking/direct_contact.svg'
            alt='info icon'
          />
          <h2 class='text-2xl font-bold mt-3 mb-6'>
            Contact the Owner Directly
          </h2>
          <p class='text-base text-gray-500'>
            For direct contact with hospitality owners in Diber, reach out today
            and experience warm hospitality at its best. Enjoy a memorable stay
            with personalized service and comfortable accommodations.
          </p>
        </div>

        <!-- Contact info -->
        <div class='py-6'>
          {
            bookingInfo.map((info) =>
              info.frontmatter.businesses.map((busines) => (
                <BusinessesContactInfo
                  type={busines.type}
                  name={busines.name}
                  href={busines.url}
                  stars={busines.stars}
                />
              ))
            )
          }
        </div>

        <Button
          className='w-full'
          href='/stays'
          rounded={true}
          btnColor='dark-blue'
        >
          More Info
        </Button>
      </Card>
    </div>
  </div>
  <!-- Background Image -->
  <Image
    class='bg-icons bottom-0'
    src='/icons/booking_icon_bg.svg'
    width={539 / 1.3}
    height={1197 / 1.1}
    alt='backgound icon'
    format='svg'
  />
</div>
